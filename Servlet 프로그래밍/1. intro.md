​	

## Servlet

- 서버에서 수행되는 웹 프로그래밍 기술 JAVA 언어로 구현
  - JSP의 기반

- http://서버주소:포트번호/컨텍스트 패스명/FirstServlet

의미 :" 웹 서블릿으로서 URL mapping명이 /FirstServlet 이다'' 

- Tomcat 서버에는 여러개의 dynamic web project 등록 가능

```java
@WebServlet("/ServletBook")
public class ServletBook extends HttpServlet {
	private static final long serialVersionUID = 1L;
       
    public ServletBook() {
        super();    
    }

	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		response.setContentType("text/html; charset=utf-8");
		PrintWriter out = response.getWriter();
		out.print("<h3>hi</h3>");
		out.close();
	}
```

- HttpServletResponse 객체 : 요청 관련 정보 추출
  HttpServletRequest 객체 : 응답 처리
  요청이 올 때마다 생성되는 객체들
- 응답 내용의 타입 정보와 문자 셋 정보 설정은 PrintWriter 보다 먼저 처리할 것
- `	PrintWriter out = response.getWriter();` : 출력용 스트림 객체 생성
  클라이언트로 텍스트 형식의 콘텐츠를 응답할 때 반드시 호출

### Servlet 등록과 매핑

대부분의 웹 자원들은 확장자로 파일 구분이 가능
하지만 <u>Servlet은 불가능</u>하다

Servlet소스는 컴파일을 통해 <u>.class 확장자</u>를 갖는 수행파일된다
하지만,  .class라는 수행파일을 갖는 파일의 요청은 Servlet보다 먼저 소개된 Applet에서 이미 사용하고 있기 때문에 따로 설정 필요.

===>  Servlet프로그램으로 인식 시키기 위해 <u>등록과 맵핑</u> 설정으로 **web.xml (descriptor file)**에 작성해야 함.
--> `<servlet>` & <servlet-mapping>

### Servlet 3.0부터 추가된 Servlet정의 Annotation

1. **@WebServlet** : 반드시 사용, 2개 이상 설정 가능
2. @WebInitParam : 서블렛프로그램에 전달할 초기 파라미터 정의
3. @WebListener 
4. @WebFilter
5. @MultipartConfig : 서블릿 프로그램에서 다중 파티션으로 전달되는 파일 업로드를 처리할 수 있음을 정의

### 웹 어플리케이션의 구성

1. WAS
   1. Web Container
      1. Web Application
         1. web components( servlet, jsp 웹서버에서 수행되는 자원들)
         2. static resources ( html, image, Css, JavaScript ,,...)
         3. web application DD ( web.xml  환경파일)
         4. library ( 확장 API, 주로 jar 파일)

웹 어플리케이션 단위로 수행하고 관리함.

웹 컨테이너는 구동될 때 인식되는 웹어플리케이션들을 하나하나 <u>컨텍스트 객체</u>로 생성하여 관리함. 
컨텍스트 객체마다 고유의 이름이 부여됨 -> <u>컨텍스트명</u>

 "/" + 컨텍스트명

- 다양한 명칭

  - eclipse : Dynamic Web Project 폴더

    = Tomcat : 컨텍스트

    = 개발자 : 웹 어플리케이션

